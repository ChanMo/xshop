<view class="container">
  <scroll-view>
    <checkbox-group bindchange="_setChecked">
    <block wx:for="{{cart}}">
      <view class="commodity" style="">
        <!-- 选择 -->
        <label class="checkbox" style="align-self:center">
          <checkbox checked="{{item.checked}}" 
            value="{{item.goods_sku_id}}" color="#ff7b03" />
        </label>
        <image 
          data-id="{{item.goods_id}}"
          bindtap="goToCommodity"
          style="width:110px;height:110px;"
          src="{{item.image}}" />
        <view class="commodity__main">
          <view style="flex-grow:1">
            <navigator url="/pages/commodity/commodity?id={{item.goods_id}}">
              <text class="commodity__title">{{item.goods_name}}</text>
            </navigator>
            <view 
              class="commodity__params">{{item.goods_sku.goods_attr}}</view>
          </view>
          <view class="commodity__info">
            <text class="price">
              <text class="price" 
                style="font-size:12px;"
                >￥</text>{{item.goods_sku.goods_price}}</text>
            <text> x{{item.total_num}}</text>
            <text class="float-right text-grey"
              data-id="{{item.goods_id}}" data-sku="{{item.goods_sku_id}}"
              bindtap="onDelete">x</text>
          </view>
        </view>
      </view>
    </block>
    </checkbox-group>
  </scroll-view>
  <view class="footer"> 
    <label class="checkbox">
      <checkbox-group bindchange="_checkAll">
        <checkbox value="true" color="#ff7b03"
          checked="{{cart.length == checked.length}}" /> <text>全选</text>
      </checkbox-group>
    </label>
    <view>
      <text>合计: </text>
      <text class="price">￥{{price}}</text>
      <text class="text-grey" style="font-size:12px;"> (不含运费)</text>
    </view>
    <view style="background:#ff7b03;padding: 30rpx 80rpx;" bindtap="submit">
      <text style="color:white">结算</text>
    </view>
  </view>
</view>
